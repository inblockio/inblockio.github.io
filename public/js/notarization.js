(()=>{"use strict";var e,t={2977:(e,t,a)=>{var n=a(7294),r=a(3935),s=a(5169),i=a(9646),o=(a(4185),a(4659),a(2775)),l=a(9576),c=a(6607),d=function(e,t,a,n){return new(a||(a=Promise))((function(r,s){function i(e){try{l(n.next(e))}catch(e){s(e)}}function o(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(i,o)}l((n=n.apply(e,t||[])).next())}))};r.render(n.createElement(n.StrictMode,null,n.createElement((()=>{const[e,t]=(0,n.useState)(""),[a,r]=(0,n.useState)(""),u=e=>{const a=new FileReader;a.onload=a=>d(void 0,void 0,void 0,(function*(){if(!(a&&a.target&&a.target.result))return;const n={pages:[{revisions:{}}],siteInfo:{sitename:"Personal Knowledge Container",dbname:"my_wiki",base:"http://localhost:9352/index.php/Main_Page",generator:"MediaWiki 1.39.1",case:"first-letter",namespaces:{0:{case:!0,title:""}}}},s=Date.now(),i=yield(h=a.target.result,g=null,v=(e=>{const t=new Date(e);return`${t.getUTCFullYear()}${String(t.getUTCMonth()+1).padStart(2,"0")}${String(t.getUTCDate()).padStart(2,"0")}${String(t.getUTCHours()).padStart(2,"0")}${String(t.getUTCMinutes()).padStart(2,"0")}${String(t.getUTCSeconds()).padStart(2,"0")}`})(s),d(void 0,void 0,void 0,(function*(){let e={verification_context:{has_previous_signature:!1,has_previous_witness:!1},content:{rev_id:0}},t="",a="",n="";g&&(t=g.metadata.verificationHash,g.signature&&g.signature.signature&&(e.verification_context.has_previous_signature=!0,a=g.signature.signature_hash),g.witness&&(e.verification_context.has_previous_witness=!0,n=g.witness.witness_hash));const r=c.getHashSum(h);e.content.content={main:h},e.content.content_hash=r;const s="5e5a1ec586",i=c.calculateMetadataHash(s,v,t),u=c.calculateVerificationHash(r,i,a,n);let m,f,w;e.metadata={domain_id:s,time_stamp:v,previous_verification_hash:t,metadata_hash:i,verification_hash:u},[m,f,w]=yield(e=>d(void 0,void 0,void 0,(function*(){const t="I sign the following page verification_hash: [0x"+e+"]";let a,n;if(window.ethereum&&window.ethereum.isMetaMask){if(!window.ethereum.isConnected()||!window.ethereum.selectedAddress)try{yield window.ethereum.request({method:"eth_requestAccounts"})}catch(e){throw console.error(e),alert(e.message),e}}else alert("Metamask not detected");return[a,n]=yield d(void 0,void 0,void 0,(function*(){const e=window.ethereum.selectedAddress;return[yield window.ethereum.request({method:"personal_sign",params:[t,window.ethereum.selectedAddress]}),e]})),[a,n,o.E.recoverPublicKey(l.r(t),a)]})))(u);const p=c.calculateSignatureHash(m,w);return e.signature={signature:m,public_key:w,wallet_address:f,signature_hash:p},e}))),u=i.metadata.verification_hash;var h,g,v;n.pages[0].revisions[u]=i,r(`Signature of your file: ${i.signature.signature}`);const m=JSON.stringify(n,null,2);t(m),((e,t)=>{const a=document.getElementById("download-result-data");a&&a instanceof HTMLAnchorElement&&(a.href="data:x-application/xml;charset=utf-8,"+escape(e),a.download=t)})(m,e.name+".aqua.json")})),a.readAsText(e)},h=n.useMemo((()=>{const e=new s.Z({autoProceed:!0,restrictions:{maxNumberOfFiles:1}});return e.on("complete",(e=>{if(!e.successful||!e.successful[0])return;const t=e.successful[0];u(t.data)})),e}),[]);return n.useEffect((()=>()=>h.close()),[]),n.createElement(n.Fragment,null,n.createElement("div",{style:{display:"flex",justifyContent:"center"}},n.createElement(i.A,Object.assign({uppy:h},{width:550,height:150,proudlyDisplayPoweredByUppy:!1,hideUploadButton:!0}))),n.createElement("div",null,a),n.createElement("details",null,n.createElement("summary",null,"Result in JSON format (click here to view online, or ",n.createElement("a",{id:"download-result-data"},"download"),")"),n.createElement("pre",null,e)))}),null)),document.getElementById("root"))},8619:e=>{e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%2302BAF2%27/%3E%3C/svg%3E"},1344:e=>{e.exports="data:image/svg+xml;charset=utf-8,%3Csvg width=%2748%27 height=%2748%27 xmlns=%27http://www.w3.org/2000/svg%27%3E%3Cpath d=%27M24 1v1C11.85 2 2 11.85 2 24s9.85 22 22 22 22-9.85 22-22S36.15 2 24 2V1zm0 0V0c13.254 0 24 10.746 24 24S37.254 48 24 48 0 37.254 0 24 10.746 0 24 0v1zm7.707 19.293a.999.999 0 1 1-1.414 1.414L25 16.414V34a1 1 0 1 1-2 0V16.414l-5.293 5.293a.999.999 0 1 1-1.414-1.414l7-7a.999.999 0 0 1 1.414 0l7 7z%27 fill=%27%231269CF%27/%3E%3C/svg%3E"},3561:e=>{e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%2736%27%3E%3Cpath fill=%27rgba%2817, 17, 17, 0.9%29%27 d=%27M0 33.342V1.338c0 6 12.002 11.627 12.002 16.002C12.002 21.715 0 27.406 0 33.342Z%27/%3E%3C/svg%3E"},1488:e=>{e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2712%27 height=%2736%27%3E%3Cpath fill=%27rgba%2817, 17, 17, 0.9%29%27 d=%27M12 2.658v32.004c0-6-12.002-11.627-12.002-16.002C-.002 14.285 12 8.594 12 2.658Z%27/%3E%3C/svg%3E"},5702:e=>{e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2735%27 height=%2739%27%3E%3Cpath d=%27M1.708 38.66c1.709 0 3.417-3.417 6.834-3.417 3.416 0 5.125 3.417 8.61 3.417 3.348 0 5.056-3.417 8.473-3.417 4.305 0 5.125 3.417 6.833 3.417.889 0 1.709-.889 1.709-1.709v-19.68C34.167-5.757 0-5.757 0 17.271v19.68c0 .82.888 1.709 1.708 1.709zm8.542-17.084a3.383 3.383 0 0 1-3.417-3.416 3.383 3.383 0 0 1 3.417-3.417 3.383 3.383 0 0 1 3.417 3.417 3.383 3.383 0 0 1-3.417 3.416zm13.667 0A3.383 3.383 0 0 1 20.5 18.16a3.383 3.383 0 0 1 3.417-3.417 3.383 3.383 0 0 1 3.416 3.417 3.383 3.383 0 0 1-3.416 3.416z%27 fill=%27%2523000%27/%3E%3C/svg%3E"},5647:e=>{e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2736%27 height=%2712%27%3E%3Cpath fill=%27rgba%2817, 17, 17, 0.9%29%27 d=%27M2.658 0h32.004c-6 0-11.627 12.002-16.002 12.002C14.285 12.002 8.594 0 2.658 0Z%27/%3E%3C/svg%3E"},4026:e=>{e.exports="data:image/svg+xml;charset=utf-8,%3Csvg xmlns=%27http://www.w3.org/2000/svg%27 width=%2736%27 height=%2712%27%3E%3Cpath fill=%27rgba%2817, 17, 17, 0.9%29%27 d=%27M33.342 12H1.338c6 0 11.627-12.002 16.002-12.002C21.715-.002 27.406 12 33.342 12Z%27/%3E%3C/svg%3E"}},a={};function n(e){var r=a[e];if(void 0!==r)return r.exports;var s=a[e]={id:e,exports:{}};return t[e].call(s.exports,s,s.exports,n),s.exports}n.m=t,n.amdO={},e=[],n.O=(t,a,r,s)=>{if(!a){var i=1/0;for(d=0;d<e.length;d++){for(var[a,r,s]=e[d],o=!0,l=0;l<a.length;l++)(!1&s||i>=s)&&Object.keys(n.O).every((e=>n.O[e](a[l])))?a.splice(l--,1):(o=!1,s<i&&(i=s));if(o){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[a,r,s]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.j=532,(()=>{n.b=document.baseURI||self.location.href;var e={532:0};n.O.j=t=>0===e[t];var t=(t,a)=>{var r,s,[i,o,l]=a,c=0;if(i.some((t=>0!==e[t]))){for(r in o)n.o(o,r)&&(n.m[r]=o[r]);if(l)var d=l(n)}for(t&&t(a);c<i.length;c++)s=i[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(d)},a=self.webpackChunkchrome_extension_typescript_starter=self.webpackChunkchrome_extension_typescript_starter||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))})(),n.nc=void 0;var r=n.O(void 0,[736],(()=>n(2977)));r=n.O(r)})();